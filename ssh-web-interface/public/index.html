<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSH Trigger</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #1f1f1f;
        }
		.container {
			max-width: 800px;
			margin: auto;
            text-align: center;
            font-size: 20px;
			color: white; /* Change text color of container */
		}
		.button-group, .group-buttons {
			display: none;
			margin-bottom: 20px;
			color: white;
		}
        .button-group h2, .group-buttons h2 {
            margin-bottom: 10px;
            font-size: 30px;
            color: white;
        }
		button {
			display: inline-block;
			width: 200px;
			height: 150px;
			padding: 0;
			margin: 10px;
			font-size: 22px;
			cursor: pointer;
			text-align: center;
			vertical-align: middle;
			color: black; /* Change text color */
			background-color: #a78dc9; /*#4CAF50; Change background color */
			border: 2px solid #333; /* Darker border for contrast */
			border-radius: 10px; /* Adjust this value to make corners more or less rounded */
			transition: transform 0.1s ease, background-color 0.3s ease; /* Smooth transition on hover */
		}
		.btn_red {
			background-color: #ff0000;
			color: black;
		}

		.btn_grn {
			background-color: #00ff00;
			color: black;
		}

		.btn_ylw {
			background-color: #ffff00;
			color: black;
		}

		.btn_wht {
			background-color: #ffffff;
			color: black;
		}

		.btn5 {
			background-color: #bdbdbd;
			color: white;
		}


		button:hover {
			opacity: 0.9;
			/*background-color: #67567d;  #45a049;  Change color on hover */
		}
        button.active {
            transform: scale(0.95); /* Shrinks the button slightly when clicked */
            opacity: 0.7;
        }

		#message {
			margin-top: 20px;
			font-size: 22px;
			color: green;
		}
    </style>
</head>
<body>
    <div class="container">

    <script>
        async function runGMCommand(ipAddress, shellScript) {
            try {
                const response = await fetch('/run-gm-command', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ ipAddress, shellScript })
                });
                const data = await response.text();
                displayMessage(data, 'green');
            } catch (error) {
                displayMessage('Error: ' + error.message, 'red');
            }
        }

        // Send a POST request to run default command
        async function runCommand(ipAddress, shellScript) {
            try {
                const response = await fetch('/run-command', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ ipAddress, shellScript })
                });
                const data = await response.text();
                displayMessage(data, 'green');
            } catch (error) {
                displayMessage('Error: ' + error.message, 'red');
            }
        }

        // Send a POST request to run default command
        async function runLegacyCommand(ipAddress, shellScript) {
            try {
                const response = await fetch('/run-legacy-command', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ ipAddress, shellScript })
                });
                const data = await response.text();
                displayMessage(data, 'green');
            } catch (error) {
                displayMessage('Error: ' + error.message, 'red');
            }
        }

        // Display result messages
        function displayMessage(message, color) {
            const messageElement = document.getElementById('message');
            messageElement.innerText = message;
            messageElement.style.color = color;
        }
    </script>

        <div id="main-menu">
            <h1>SSH commands</h1>
            <!-- Hauptmenü -->
            <button class="btn_red" onclick="showGroup(1)">DPL</button>
            <button class="btn_grn" onclick="showGroup(2)">Tatort</button>
            <button class="btn_ylw" onclick="showGroup(3)">SV</button>
            <button class="btn5" onclick="showGroup(4)">POD</button>
            <button class="btn_wht" onclick="showGroup(5)">SUF</button>
        </div>

        <!-- Gruppenmenüs -->
        <div id="group-1" class="button-group">
            <h2>Vererbtes Doppelleben</h2>
            <button class="btn_wht" onclick="runGMCommand('192.168.178.40', 'start_vid_de.sh')">DPL-A Intro</button>
            <button class="btn_wht" onclick="runGMCommand('192.168.178.41', 'start_vid_de.sh')">DPL-B Intro</button>
            <button class="btn_red" onclick="runGMCommand('192.168.178.40', 'reboot.sh')">GM DPL-A Reboot</button>
            <button class="btn_red" onclick="runGMCommand('192.168.178.41', 'reboot.sh')">GM DPL-B Reboot</button>
            <button onclick="showMainMenu()">Zurück zum Hauptmenü</button>
        </div>

        <div id="group-2" class="button-group">
            <h2>Tatort</h2>
            <button class="btn_wht" onclick="runCommand('192.168.178.183', 'intro.sh')">Intro Tatort</button>
            <button class="btn_grn" onclick="runLegacyCommand('RasPi-6-SuesseRache-2-Taxi', 'horn.sh')">Taxi Hupe</button>
            <button class="btn_ylw" onclick="runLegacyCommand('RasPi-6-SuesseRache-2-Taxi', 'open_door.sh')">Taxi Tür Forensik</button>
            <button class="btn_ylw" onclick="runLegacyCommand('RasPi-6-SuesseRache-2-Taxi', 'taxi_manual.sh')">Taxifahrt manuell</button>
            <button class="btn_grn" onclick="runCommand('raspi-6-suesse-rache-5-beweismittel', 'tabletNotification.sh')">Tablet Vergessen</button>
            <button class="btn_wht" onclick="runCommand('raspi-6-suesse-rache-5-beweismittel', 'evidence_video/start_video.sh')">Beweismittelvideo</button>
            <button class="btn_red" onclick="runCommand('raspi-6-suesse-rache-5-beweismittel', 'reboot.sh')">Beweismittel reboot</button>
            <button class="btn_red" onclick="runCommand('raspi-6-suesserache-6-giftscanner', 'reboot.sh')">Giftscanner Reboot</button>
            <button class="btn_ylw" onclick="runCommand('FINGERPRINTSCANNER', 'restart.sh')">Fingerprintscanner Restart</button>
            <button class="btn_red" onclick="runCommand('FINGERPRINTSCANNER', 'reboot.sh')">Fingerprintscanner Reboot</button>
            <button class="btn_ylw" onclick="runCommand('raspi-6-suesse-rache-4-buero', 'CARLS_OFFICE/start.sh')">Christine Restart</button>
            <button class="btn_red" onclick="runCommand('raspi-6-suesse-rache-4-buero', 'reboot.sh')">Christine Reboot</button>
            <button onclick="showMainMenu()">Zurück zum Hauptmenü</button>
        </div>

        <div id="group-3" class="button-group">
            <h2>Spurlos Verschwunden</h2>
            <button class="btn_wht" onclick="runGMCommand('192.168.178.42', 'intro.sh')">SV Intro</button>
            <button class="btn_ylw" onclick="runCommand('raspi-3-entfuerung-tel', 'TELEPHONE/restart.sh')">Telefon Restart</button>
            <button class="btn_red" onclick="runCommand('raspi-3-entfuerung-tel', 'reboot.sh')">Telefon reboot</button>
            <button class="btn_red" onclick="runGMCommand('192.168.178.42', 'reboot.sh')">GM reboot</button>
            <button onclick="showMainMenu()">Zurück zum Hauptmenü</button>
        </div>

        <div id="group-4" class="button-group">
            <h2>POD</h2>
            <button class="btn_grn" onclick="runCommand('raspi-4-pod-t1', 'm_terminal/chromiumReset.sh')">Browser reload T1</button>
            <button class="btn_grn" onclick="runCommand('raspi-4-pod-t2', 'm_terminal/chromiumReset.sh')">Browser reload T2</button>
            <button class="btn_ylw" onclick="runCommand('raspi-4-pod-t1', 'm_terminal/run.sh')">Restart T1</button>
            <button class="btn_ylw" onclick="runCommand('raspi-4-pod-t2', 'reboot.sh''m_terminal/run.sh')">Restart T2</button>
            <button class="btn_ylw" onclick="runCommand('raspi-4-pod-tvs', 'pod/run.sh')">Restart TVs</button>
            <button class="btn_ylw" onclick="runCommand('raspi-4-pod-arbiter', 'Pi_arbiter/run.sh')">Restart Arbiter</button>
            <button class="btn_red" onclick="runCommand('raspi-4-pod-microscope', 'reboot.sh')">Reboot MCRP</button>
            <button class="btn_red" onclick="runCommand('raspi-4-pod-t1', 'reboot.sh')">Reboot T1</button>
            <button class="btn_red" onclick="runCommand('raspi-4-pod-t2', 'reboot.sh')">Reboot T2</button>
            <button class="btn_red" onclick="runCommand('raspi-4-pod-tvs', 'reboot.sh')">Reboot TVs</button>
            <button class="btn_red" onclick="runCommand('raspi-4-pod-arbiter', 'reboot.sh')">Reboot Arbiter</button>
            <button onclick="showMainMenu()">Zurück zum Hauptmenü</button>
        </div>

        <div id="group-5" class="button-group">
            <h2>Spiel um die Freiheit</h2>
            <button class="btn_red" onclick="runGMCommand('192.168.178.44', 'reboot.sh')">GM reboot</button>
            <button onclick="showMainMenu()">Zurück zum Hauptmenü</button>
        </div>

        <div id="message"></div>
    </div>

    <script>
        function showGroup(groupNumber) {
            // Verstecke das Hauptmenü und zeige die entsprechende Gruppe
            document.getElementById('main-menu').style.display = 'none';
            for (let i = 1; i <= 5; i++) {
                document.getElementById('group-' + i).style.display = i === groupNumber ? 'block' : 'none';
            }
        }

        function showMainMenu() {
            // Zeige das Hauptmenü und verstecke alle Gruppen
            document.getElementById('main-menu').style.display = 'block';
            for (let i = 1; i <= 5; i++) {
                document.getElementById('group-' + i).style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('button').forEach(button => {
                // Touch events
                button.addEventListener('touchstart', () => {
                    button.classList.add('active');
                });
                button.addEventListener('touchend', () => {
                    button.classList.remove('active');
                });

                // Pointer events (for both mouse and touch)
                button.addEventListener('pointerdown', () => {
                    button.classList.add('active');
                });
                button.addEventListener('pointerup', () => {
                    button.classList.remove('active');
                });

                // Click event
                button.addEventListener('click', () => {
                    button.classList.add('active');
                    setTimeout(() => {
                        button.classList.remove('active');
                    }, 150);
                });
            });
        });     
        
    </script>
</body>
</html>
